# ğŸ—ï¸ Airline System Architecture (FAANG Level 10/10)

## Overview
Ğ”Ğ°Ğ½Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ»ĞµĞ´ÑƒĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ°Ğ¼ **Hexagonal (Ports and Adapters)** Ğ¸ **Clean Architecture**, Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°Ñ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½ÑƒÑ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Ğ¾Ñ‚ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€ĞºĞ¾Ğ² Ğ¸ Ğ±Ğ°Ğ· Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….

## ì¸µ Layers

### 1. Domain Layer (`app/domain/`)
Ğ¡ĞµÑ€Ğ´Ñ†Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹. ĞĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ½Ğ¸ Ğ¾Ñ‚ Ñ‡ĞµĞ³Ğ¾.
- **Entities**: Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹ (`BookingEntity`, `UserEntity`). Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `booking.can_cancel()`).
- **Value Objects**: Ğ˜Ğ¼Ğ¼ÑƒÑ‚Ğ°Ğ±ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹ (`Email`, `Money`, `SeatNumber`). Ğ˜Ğ½ĞºĞ°Ğ¿ÑÑƒĞ»Ğ¸Ñ€ÑƒÑÑ‚ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ.
- **Interfaces (Ports)**: ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ÑĞ»Ğ¾ĞµĞ² (`IUnitOfWork`, `IBookingRepository`).

### 2. Application Layer (`app/application/`)
Ğ¡Ñ†ĞµĞ½Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (Use Cases).
- **Use Cases**: Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒÑÑ‚ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `CancelBookingUseCase`). ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ¸Ñ€ÑƒÑÑ‚ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°.
- **DTOs**: ĞĞ±ÑŠĞµĞºÑ‚Ñ‹ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ğ²Ğ²Ğ¾Ğ´Ğ°/Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ° Ğ² Use Cases.

### 3. Infrastructure Layer (`app/infrastructure/`)
Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ² (Adapters).
- **Unit of Work**: Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ `IUnitOfWork` Ğ´Ğ»Ñ SQLAlchemy. Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸ÑĞ¼Ğ¸.
- **Repositories**: ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ‘Ğ”.

### 4. Presentation Layer (`app/modules/`, `app/api/`)
Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ Ğ¼Ğ¸Ñ€Ğ°.
- **FastAPI Routes**: Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ÑÑ‚ HTTP Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ, Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ Use Case Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ÑÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚. Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½Ğ°.

---

## ğŸš€ ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° 10/10?

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
|----------|------------|
| **Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸** | Ğ”Ğ¾Ğ¼ĞµĞ½ Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ Ğ‘Ğ”. ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€ Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞµ. |
| **Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** | Use Cases Ğ¸ Entities Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ±ĞµĞ· Ğ¿Ğ¾Ğ´Ğ½ÑÑ‚Ğ¸Ñ Ğ‘Ğ”, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ Ğ¼Ğ¾ĞºĞ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ². |
| **Ğ¢Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ** | ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½ Unit of Work Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ°Ñ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ (Ğ²ÑÑ‘ Ğ¸Ğ»Ğ¸ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾). |
| **Security (RBAC)** | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğ²Ñ‹Ğ½ĞµÑĞµĞ½Ğ° Ğ² Use Cases, Ñ‡Ñ‚Ğ¾ Ğ¸ÑĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ ÑƒÑ‚ĞµÑ‡ĞºÑƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. |
| **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** | Ğ›ĞµĞ³ĞºĞ°Ñ Ğ·Ğ°Ğ¼ĞµĞ½Ğ° Ğ‘Ğ” (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, Ğ½Ğ° MongoDB) Ğ¿ÑƒÑ‚ĞµĞ¼ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ UnitOfWork. |

---

## Data Flow
`FastAPI Route` -> `Use Case` -> `Domain Entity` -> `Unit of Work` -> `Database`
